= nmcli

`nmcli` -- консольный интерфейс к https://networkmanager.dev/[NetworkManager]

== Команды

=== Установить dns-сервер на соединение

. Игнорируем настройки dns по умолчанию:
+
[source,shell]
----
$ nmcli connection modify network-name ipv4.ignore-auto-dns yes
----
. Устанавливаем dns-сервер:
+
[source,shell]
----
$ nmcli connection modify network-name ipv4.dns 8.8.8.8
----
+
. Перезагружаем сервис `NetworkManager`, пример для `systemd`:
+
[source,shell]
----
# systemctl restart NetworkManager
----
. Проверяем:
+
[source,shell]
----
$ cat /etc/resolv.conf <1>
# Generated by NetworkManager
nameserver 8.8.8.8 <2>
----

<1> Выводим содержимое `resolv.conf` -- файла, где хранится ip-адрес dns-сервера
<2> Видим `8.8.8.8`, всё ок

https://adam.younglogic.com/2019/05/using-nmcli-to-set-nameservers/[Источник]
